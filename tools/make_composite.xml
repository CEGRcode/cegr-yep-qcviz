<tool id="CompositePlot" name="CDT to CompositePlot" version="1.0.0">
    <description> to create composite plots.</description>
    <macros></macros>
    <requirements>
        <requirement type="package" version="2.7.14">python</requirement>
        <requirement type="package" version="1.0.0">scipy</requirement>
        <requirement type="package" version="2.1.0">matplotlib</requirement>
        <requirement type="package" version="0.22.0">pandas</requirement>
    </requirements>
    <command>
    <![CDATA[
    python $__tool_directory__/makeComposite.py
    $sample_cdt
    $control_cdt
    '$composite_title'
    #if $shex:
    --shex $shex
    #end if
    #if $shex:
    --chex $chex
    #end if
    #if $shex:
    --bhex $bhex
    #end if
    #if $shex:
    --vhex $vhex
    #end if
    #if $region:
    --region $region
    #end if
    ]]>
    </command>

    <inputs>
      <param name="sample_cdt" type="data" format="tabular" label="Sample CDT file from Tag Pileup Frequency" />
      <param name="control_cdt" type="data" format="tabular" label="Control CDT file from Tag Pileup Frequency" />
      <param name="composite_title" type="text" value="" label="title for the composite plot" />
      <param name="shex" type="text" value="" label="Sample Hexcode (default: red)" help="(optional argument) example: C70039"/>
      <param name="chex" type="text" value="" label="Control Hexcode (default: gray)" help="(optional argument) example: dc7633"/>
      <param name="bhex" type="text" value="" label="Background Hexcode" help="(optional argument)  example: 212f3d"/>
      <param name="vhex" type="text" value="" label="Center Line Color (default: black)" help="(optional argument) example: 28de0f "/>
      <param name="region" type="integer" value="2000" label="Plots the composite within specified region from center " help="use defaults" />
      <param name="customHistoryLabel" type="text" value="" label="Custom GALAXY history pane label" help=" Optional : replaces the default label given by GALAXY to this tool within current history with your custom label"/>
    </inputs>

    <outputs>
      <data name="Composite_plot_png" format="png" from_work_dir="Composite_plot.png" label="${customHistoryLabel} Composite on ${on_string}"/>
    </outputs>

    <tests>
    </tests>

    <help>
<![CDATA[
**What it does**

Generates a compostie plot from the Sample and Control CDT files generated by Tag Pileup.

]]>
    </help>
    <citations>
        <citation type="bibtex">
            @unpublished{None,
            author = {Kuntala, Prashant Kumar},
            title = {None},
            year = {None},
            eprint = {None},
            url = {http://www.pughlab.psu.edu/}
        }</citation>
    </citations>
</tool>
